# 目前实现的功能 #

1、New:中文字体显示，详情见obj_basicFont

2、New:可拖动的滑块功能，鼠标放在滑块上会有位移，拖动后摆放会变成实际的对象

3、New:垃圾桶功能，将可拖动滑块滑动到垃圾桶中会复原

4、New:添加了滑块生成器功能，开始等待2s后生成6个滑块，将滑块移出3s后会生成随机新滑块，若连续拖拽超过3s一样会生成新滑块，若在生成新滑块后将目前拖拽的滑块扔进垃圾桶，则目前滑块会被永久删除。同时也有防误触功能防止滑块在当前位置生成。

5、Change：现在将滑块扔入垃圾桶中滑块无论如何都会被永久删除。

6、Change：改变了字体为像素风。

7、New：新增了支持json地图文件的地图拼接功能且封装为了脚本。

8、New：新增了视图的缩放移动功能。

9、New：怪物AI1.0，详情见下：

　　注：目前并未写勇者的AI，所以使用wasd移动进行辅助测试

　　AI目前会漫无目的地随机巡逻，之后可以修改为按照规定路线巡逻等，一旦视野中出现玩家，则会不顾一切地向玩家冲冲冲（已解决碰撞问题），若到视野范围的1.2倍之外（参数可调），则会巡逻；若到攻击范围的1/2（参数可调），则会进行攻击，若脱离攻击范围则追击。目前为了测试方便，攻击时怪物自己每一步减0.3血，若血量小于20则逃跑，跑的那个快啊（测试时逃跑每步掉0.2血）。

　　问：为什么勇者可以穿过怪物？

　　答：因为是目前我们操作的原因，等到ai自行行走就穿不过去了（设置为了固体）。

10、New：新添了一个可以移动的门，现在勇者会不顾一切追门（门用wsad移动），可仔细观察所有怪物的逻辑（发现设置包围战术完全没必要了啊，这寻路ai太nm吊了），怪物撤离时还是可以互相穿过（强制位移的原因）

11、New：勇者AI1.0，详情见下：

　　目前勇者在没怪的情况下会毫无目的地冲向目标点，视野内出现怪物时，则会寻找距离勇者最近的怪物然后向其冲冲冲（冲时每时每刻都会冲向距离自己最近的怪物），若到视野范围的1.2倍之外（参数可调），则会放弃追击冲向目标点；若到攻击范围的1/2（参数可调），则会进行攻击，若脱离攻击范围则追击（若附近依然有怪则率先攻击而不追击）。

　　注：目前为了效果，勇者不会死，不会掉血，所以没画血条（主要是怕打不过一坨怪），也不会进行逃跑。

12、New：现在将滑块生成器适配于窗口位置（假用GUI），调整了生成器的部分逻辑（现在将滑块放下后3s才会生成新滑块，否则永远不会生成），调整了滑块的大部分逻辑（包括但不限于拖拽结束时间），现在终于可以大概的玩一下了。

存留的问题：窗口缩放时滑块观看体验不太好，这个回来再修，现在没想到办法。问题原因（滑块响应生成器位置改变慢了半拍，干脆实时计算得了）。

13、Debug：果然，实时计算解决了12的问题。

14、New：怪物AI1.1.0，勇者AI1.0.1，分别更新如下内容：

　　现在怪物会有几率可以使用风筝战术（会使用风筝的下面会有绘制），正在风筝时数字变为1。

　　现在勇者发现一段时间内追不上目标后会觉得很烦，于是停止追击。停止追击后一段时间若还有怪物在攻击勇者，则勇者会觉得更烦，于是继续追击，以此循环往复，勇者可以练就轻功水上漂。

15、New：添加了基本的UI，暗改了勇者的部分逻辑（要不然会被两个怪溜死）

16、New：添加了暂停功能，现在点击暂停按钮或者点击esc键都会暂停，窗口失去焦点也会暂停，暂停后按屏幕中间的continue键来恢复。

17、New：新增了简易的设置菜单（后续使用直接添加组件即可，全部继承obj_settingScroller），可用箭头来切换（实际逻辑没做hhh）。

18、New：怪物AI1.2.0，修复了点击完设置菜单后无法开始游戏的bug，更新了如下内容：

　　现在，更加聪明的怪物会使用走Ａ了（其实更类似于环形骑射阵）。

　　问：现在的走A为啥这么奇怪？

　　答：因为目前没有考虑攻击间隔和转身速率的问题，等这些参数加入进去一切就会正常。

19、Debug：怪物AI1.2.1，修复了走aAI相关的bug，现在右键点击怪物会直接消灭怪物了。

　　问：为什么走A的时候会跑出攻击范围？不是做圆周运动吗？

　　答：因为速度原因，走的轨迹只能是由长度为速度像素的直线近似围成圆，不过实际使用影响不大应该。或者之后考虑将角度改为89度说不定会缓解一些？


20、New：怪物AI1.2.2，勇者AI1.1.0，更新如下：

　　现在，勇者终于会风筝战术了，而且风筝时会判断身后有没有人再风筝。为怪物和勇者AI添加了仇恨框架，当然还没实装（想放到攻击间隔实装后再整）。

21、Change：修改了地图的生成方式，现在适配于map2json转化完成的json文件了，怪物AI1.2.3，暗改了部分怪物逻辑（二  龙  戏  珠）。

22、New：实现了基本的分辨率改变功能（一切皆为暴力缩放，目前没有实际改变视图大小）

23、New：修复了UI漂移的bug，添加了基本的背包功能，详请见下：

　　现在用鼠标左键点击勇者会弹出一个背包（默认有3个物品），背包显示时游戏并没有暂停，依然可以随意缩放。用鼠标点击背包之外的地方即可关闭背包。（别想尝试将怪物放置在背包上！）

24、New：实现了掉落物品的功能，勇者AI1.1.1，更新如下：

　　现在怪物死后会掉落id为1~3的随机物品，勇者现在增加了“捡东西”状态。勇者捡完东西后可在背包查看新增的东西。

25、New：现在勇者碰到门判定为这局结束，玩家的金钱会增加勇者杀敌数x10.没错，我增加了全局金钱功能，可在正式游戏房间中查看。修复了一个没有被发现的小bug。

26、New：添加了远程攻击功能（目前没有考虑的因素有：1、发射子弹时的转身速率什么的 2、勇者躲子弹的问题 3、弹道分布规律性的问题）

27、New：现在背包会实时根据勇者捡物品的情况更新了，且按照物品id从小到大排序。

28、New：新增了存档和读档功能，目前只会在游戏结束时（即勇者到达目的地时）存档，并只会在游戏开始房间读档，目前存储的东西只有万家金钱。为了性能以及后续开发，新增了game_ready房间（类似于元气骑士选人房间，读档并不在这里进行）以及game_save房间。